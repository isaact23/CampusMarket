// Central table in star schema (the 'many' side)
CREATE TABLE Transactions (
    ID int,
    ProductID int,
    BuyingUserID int,
    SellingUserID int,

    PRIMARY KEY (ID),
    FOREIGN KEY (ProductID) REFERENCES Products(ID),
    FOREIGN KEY (BuyingUserID) REFERENCES Users(ID),
    FOREIGN KEY (SellingUserID) REFERENCES Users(ID)
)

CREATE TABLE Users (
    ID int,
    Username text,

    PRIMARY KEY (ID)
)

CREATE TABLE Products (
	ID int,
	Name text,
    Description text,
	Price decimal,
	OwnerID int,

    PRIMARY KEY (ID),
	FOREIGN KEY (OwnerID) REFERENCES Users(ID)
)

// Central table in second star schema
CREATE TABLE Messages (
    ID int,
    Title text,
    Content text,
    FromUserID int,
    ToUserID int,

    PRIMARY KEY (ID),
    FOREIGN KEY (FromUserID) REFERENCES Users(ID),
    FOREIGN KEY (ToUserID) REFERENCES Users(ID),
)